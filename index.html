<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TOEIC å–®å­—èªéŸ³ç‰¹è¨“æ©Ÿ (å®Œæ•´ç‰ˆ)</title>
    <style>
        body {
            font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
            background-color: #f0f2f5;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            color: #333;
        }
        .container {
            background-color: #fff;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            width: 90%;
            max-width: 600px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .header-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            color: #666;
            font-size: 0.9em;
        }
        .badge {
            background-color: #007bff;
            color: white;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.85em;
        }
        .progress-counter {
            font-weight: bold;
            color: #555;
        }
        .question-text {
            font-size: 2.5em;
            font-weight: 700;
            margin: 20px 0 30px 0;
            color: #2c3e50;
        }
        .answer-area {
            margin-top: 20px;
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 12px;
            display: none; /* é è¨­éš±è— */
            text-align: left;
            position: relative;
        }
        .english-word {
            font-size: 1.8em;
            color: #d63031;
            font-weight: bold;
            margin-bottom: 5px;
        }
        .sentence {
            font-size: 1.2em;
            color: #555;
            margin-bottom: 15px;
            line-height: 1.6;
        }
        .tip {
            font-size: 0.95em;
            background-color: #fff3cd;
            color: #856404;
            padding: 8px 12px;
            border-radius: 6px;
            display: inline-block;
        }
        .btn-group {
            margin-top: 30px;
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
        }
        button {
            padding: 12px 20px;
            font-size: 1em;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: transform 0.1s, background 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
        }
        button:active { transform: scale(0.98); }
        .btn-show { background-color: #28a745; color: white; width: 100%; }
        .btn-show:hover { background-color: #218838; }
        .btn-next { background-color: #007bff; color: white; flex: 1; }
        .btn-next:hover { background-color: #0069d9; }
        .btn-unknown { background-color: #6c757d; color: white; flex: 1; }
        .btn-unknown:hover { background-color: #5a6268; }
        .btn-speak { 
            background-color: #ffc107; 
            color: #333; 
            margin-bottom: 15px;
            font-weight: bold;
            width: 100%;
        }
        .btn-speak:hover { background-color: #e0a800; }
        .interaction-area { display: none; }
        #toast {
            visibility: hidden;
            min-width: 250px;
            background-color: #333;
            color: #fff;
            text-align: center;
            border-radius: 5px;
            padding: 16px;
            position: fixed;
            z-index: 1;
            left: 50%;
            bottom: 30px;
            transform: translateX(-50%);
            font-size: 17px;
            opacity: 0;
            transition: opacity 0.5s, bottom 0.5s;
        }
        #toast.show { visibility: visible; opacity: 1; bottom: 50px; }
    </style>
</head>
<body>

<div class="container">
    <div class="header-info">
        <span id="category" class="badge">Unit 1</span>
        <span id="counter" class="progress-counter">Loading...</span>
    </div>

    <div id="zh" class="question-text">è¼‰å…¥ä¸­...</div>
    
    <div id="answer-box" class="answer-area">
        <div id="en-word" class="english-word"></div>
        <div id="en-sentence" class="sentence"></div>
        <button class="btn-speak" onclick="speakText()">ğŸ”Š æ’­æ”¾ç™¼éŸ³ (Listen)</button>
        <div id="en-tip" class="tip"></div>
    </div>

    <div class="btn-group">
        <button id="btn-reveal" class="btn-show" onclick="showAnswer()">ğŸ‘€ çœ‹ç­”æ¡ˆ</button>
        <div id="action-btns" class="interaction-area" style="display:none; width:100%; display:flex; gap:10px;">
            <button class="btn-unknown" onclick="markUnknown()">ğŸ¤¯ æˆ‘ä¸æœƒ (ç¨å¾Œå†ç·´)</button>
            <button class="btn-next" onclick="nextQuestion()">âœ… æˆ‘æœƒäº† (ä¸‹ä¸€é¡Œ)</button>
        </div>
    </div>
</div>

<div id="toast">å·²åŠ å…¥ã€Œå¾…è¤‡ç¿’ã€æ¸…å–®ï¼Œç¨å¾Œå†æˆ°ï¼ğŸ’ª</div>

<script>
    // å®Œæ•´è³‡æ–™åº« Unit 1 - Unit 4
    const initialQuestions = [
        // Unit 1
        { cat: "Unit 1: Office", zh: "å¤¾æ¿", word: "clipboard (n.)", sentence: "Please sign the form on the clipboard.", tip: "sign + form æ–‡ä»¶ç°½å" },
        { cat: "Unit 1: Office", zh: "è¿´ç´‹é‡", word: "paper clip (n.)", sentence: "Attach the receipt with a paper clip.", tip: "attach A with B ç”¨BæŠŠAå¤¾èµ·ä¾†" },
        { cat: "Unit 1: Office", zh: "æª”æ¡ˆæ«ƒ", word: "file cabinet (n.)", sentence: "The contracts are stored in the file cabinet.", tip: "be stored in å­˜æ”¾åœ¨" },
        { cat: "Unit 1: Office", zh: "æ´»é å¤¾", word: "binder (n.)", sentence: "Keep the reports in a binder for easy reference.", tip: "for reference ä¾›æŸ¥é–±" },
        { cat: "Unit 1: Office", zh: "å°ç« ", word: "stamp (n./v.)", sentence: "Please stamp the document before you send it.", tip: "before + S + V æµç¨‹é †åº" },
        { cat: "Unit 1: Office", zh: "å¢¨æ°´åŒ£", word: "ink cartridge (n.)", sentence: "We need to replace the ink cartridge in the printer.", tip: "replace A in B æ›´æ›Bè£¡çš„A" },
        { cat: "Unit 1: Office", zh: "è¢å¹•", word: "monitor (n.)", sentence: "The data is displayed on the monitor.", tip: "be displayed on é¡¯ç¤ºæ–¼" },
        { cat: "Unit 1: Office", zh: "éµç›¤", word: "keyboard (n.)", sentence: "The keyboard isnâ€™t working properly.", tip: "work properly é‹ä½œæ­£å¸¸" },
        { cat: "Unit 1: Office", zh: "å°è¡¨æ©Ÿ", word: "printer (n.)", sentence: "The printer is out of paper.", tip: "be out of + N ç”¨å®Œ" },
        { cat: "Unit 1: Office", zh: "ç¢ç´™æ©Ÿ", word: "paper shredder (n.)", sentence: "Use the paper shredder to dispose of sensitive files.", tip: "dispose of è™•ç†/ä¸Ÿæ£„" },
        { cat: "Unit 1: Office", zh: "æ–‡ä»¶", word: "document (n.)", sentence: "Please review the document before approval.", tip: "before approval æ ¸å‡†å‰" },
        { cat: "Unit 1: Office", zh: "è¨ˆç®—æ©Ÿ", word: "calculator (n.)", sentence: "Use a calculator to check the total.", tip: "check the total æ ¸å°ç¸½é¡" },
        { cat: "Unit 1: Office", zh: "æŠ•å½±æ©Ÿ", word: "projector (n.)", sentence: "Weâ€™ll set up the projector for the meeting.", tip: "set up æ¶è¨­/æº–å‚™" },
        { cat: "Unit 1: Office", zh: "æœˆæ›†", word: "calendar (n.)", sentence: "Please mark the deadline on your calendar.", tip: "mark the deadline æ¨™è¨»æˆªæ­¢æ—¥" },
        { cat: "Unit 1: Office", zh: "éš”é–“è¾¦å…¬å®¤", word: "cubicle (n.)", sentence: "He works in a cubicle near the window.", tip: "work in å·¥ä½œåœ°é»" },
        { cat: "Unit 1: Office", zh: "æœƒè­°å®¤", word: "conference room (n.)", sentence: "The conference room is reserved until 3 p.m.", tip: "be reserved until é ç´„åˆ°â€¦" },
        { cat: "Unit 1: Office", zh: "è©¦ç®—è¡¨", word: "spreadsheet (n.)", sentence: "Update the spreadsheet with the latest figures.", tip: "update A with B ç”¨Bæ›´æ–°A" },
        { cat: "Unit 1: Office", zh: "åœ–è¡¨", word: "chart (n.)", sentence: "The chart shows monthly sales growth.", tip: "show + æ•¸æ“šè¶¨å‹¢" },
        { cat: "Unit 1: Office", zh: "éé€", word: "deliver (v.)", sentence: "The supplier will deliver the materials tomorrow.", tip: "deliver + ç‰©å“ + æ™‚é–“" },
        { cat: "Unit 1: Office", zh: "æ“ä½œ", word: "operate (v.)", sentence: "Only trained staff may operate the machine.", tip: "may + V è¦ç¯„/å…è¨±" },
        { cat: "Unit 1: Office", zh: "ä¿¡å°", word: "envelope (n.)", sentence: "Put the invoice in an envelope and mail it.", tip: "invoice ç™¼ç¥¨/å¸³å–®" },
        { cat: "Unit 1: Office", zh: "ç™¼è¡¨æ¼”è¬›", word: "make a speech (phr.)", sentence: "She will make a speech at the annual meeting.", tip: "at the annual meeting å¸¸è¦‹å…¬å¸æƒ…å¢ƒ" },
        { cat: "Unit 1: Office", zh: "æº–å‚™", word: "preparation (n.)", sentence: "With good preparation, the presentation will go smoothly.", tip: "go smoothly é€²è¡Œé †åˆ©" },
        { cat: "Unit 1: Office", zh: "å ±å‘Š/ç°¡å ±", word: "presentation (n.)", sentence: "His presentation starts at 10 a.m.", tip: "start at + time" },
        { cat: "Unit 1: Office", zh: "é€€æ¬¾", word: "refund (n./v.)", sentence: "The customer requested a refund for the defective item.", tip: "request a refund ç”³è«‹é€€æ¬¾" },
        { cat: "Unit 1: Office", zh: "é¡§å®¢", word: "customer (n.)", sentence: "Please respond to the customer within 24 hours.", tip: "within + æ™‚é–“ SLAå¸¸è¦‹" },
        { cat: "Unit 1: Office", zh: "æ”¹å–„", word: "improve (v.)", sentence: "We need to improve our service quality.", tip: "need to + V å»ºè­°/è¦æ±‚" },
        { cat: "Unit 1: Office", zh: "é¤å»³", word: "restaurant (n.)", sentence: "The restaurant needs to improve its online reviews.", tip: "online reviews å•†å‹™å¸¸è¦‹å­—" },
        { cat: "Unit 1: Office", zh: "æœƒè­°", word: "meeting (n.)", sentence: "The meeting has been moved to Friday.", tip: "be moved to æ”¹æœŸåˆ°" },
        { cat: "Unit 1: Office", zh: "æœŸé™", word: "deadline (n.)", sentence: "Please submit the report before the deadline.", tip: "submit the report äº¤å ±å‘Š" },

        // Unit 2
        { cat: "Unit 2: Travel", zh: "è¡Œæç®±", word: "suitcase (n.)", sentence: "The airline lost my suitcase during the transfer.", tip: "airline lost + luggage å¸¸è¦‹æŠ±æ€¨å¥" },
        { cat: "Unit 2: Travel", zh: "èµ°é“", word: "aisle (n.)", sentence: "Could I have an aisle seat, please?", tip: "aisle seat / window seat" },
        { cat: "Unit 2: Travel", zh: "é»å¿ƒ", word: "snack (n.)", sentence: "Snacks are available on board.", tip: "available on board æ©Ÿä¸Šç”¨èª" },
        { cat: "Unit 2: Travel", zh: "ç™»æ©Ÿé–€", word: "gate (n.)", sentence: "Please proceed to Gate 12 immediately.", tip: "proceed to + åœ°é» å…¬å‘Šèªæ°£" },
        { cat: "Unit 2: Travel", zh: "æ¯¯å­", word: "blanket (n.)", sentence: "Could you bring me a blanket?", tip: "Could you + V ç¦®è²Œè«‹æ±‚" },
        { cat: "Unit 2: Travel", zh: "è­·ç…§", word: "passport (n.)", sentence: "Keep your passport in your carry-on bag.", tip: "keep A in B" },
        { cat: "Unit 2: Travel", zh: "å®‰æª¢", word: "security (n.)", sentence: "Remove your laptop at security.", tip: "at securityï¼åœ¨å®‰æª¢è™•" },
        { cat: "Unit 2: Travel", zh: "è·‘é“", word: "runway (n.)", sentence: "The plane is waiting on the runway.", tip: "wait on è·¯ç·š/è¡¨é¢" },
        { cat: "Unit 2: Travel", zh: "é£²æ–™", word: "beverage (n.)", sentence: "Beverages will be served shortly.", tip: "will be served è¢«å‹•ï¼æœå‹™æµç¨‹" },
        { cat: "Unit 2: Travel", zh: "æ¸¡è¼ª", word: "ferry (n.)", sentence: "You need a ticket to ride the ferry.", tip: "need a ticket to + V" },
        { cat: "Unit 2: Travel", zh: "ç™»æ©Ÿè­‰", word: "boarding pass (n.)", sentence: "Please show your boarding pass at the gate.", tip: "show + è­‰ä»¶" },
        { cat: "Unit 2: Travel", zh: "è¡Œææé ˜è™•", word: "baggage claim (n.)", sentence: "Our luggage is at baggage claim carousel 5.", tip: "carousel è¡Œæè½‰ç›¤" },
        { cat: "Unit 2: Travel", zh: "æ©Ÿå ´", word: "airport (n.)", sentence: "Arrive at the airport two hours early.", tip: "arrive + æ™‚é–“æå‰" },
        { cat: "Unit 2: Travel", zh: "æ—…é¤¨", word: "hotel (n.)", sentence: "We checked into the hotel at midnight.", tip: "check into å…¥ä½" },
        { cat: "Unit 2: Travel", zh: "éš¨èº«è¡Œæ", word: "carry-on (n./adj.)", sentence: "This bag counts as carry-on baggage.", tip: "count as ç®—ä½œ" },
        { cat: "Unit 2: Travel", zh: "ä»£ç†/æ«ƒæª¯äººå“¡", word: "agent (n.)", sentence: "The agent rebooked my flight.", tip: "rebook æ”¹è¨‚æ©Ÿç¥¨" },
        { cat: "Unit 2: Travel", zh: "èˆªç©ºå…¬å¸", word: "airline (n.)", sentence: "Ryanair is a low-cost airline.", tip: "low-cost airline å¸¸è¦‹æ­é…" },
        { cat: "Unit 2: Travel", zh: "ç™»ä¸Šï¼ˆäº¤é€šå·¥å…·ï¼‰", word: "board (v.)", sentence: "We board the plane at three oâ€™clock.", tip: "board + äº¤é€šå·¥å…·" },
        { cat: "Unit 2: Travel", zh: "é è¨‚", word: "book (v.)", sentence: "I booked my flight on a travel website.", tip: "book + flight/hotel" },
        { cat: "Unit 2: Travel", zh: "å–æ¶ˆ", word: "cancel (v.)", sentence: "I had to cancel my trip due to bad weather.", tip: "due to + N åŸå› " },
        { cat: "Unit 2: Travel", zh: "å ±åˆ°", word: "check in (phr. v.)", sentence: "Letâ€™s check in so we can go up to our room.", tip: "check inï¼å ±åˆ°/å…¥ä½" },
        { cat: "Unit 2: Travel", zh: "æµ·é—œ", word: "customs (n.)", sentence: "The agent at customs looked in my suitcase.", tip: "at customs å›ºå®šæ­é…" },
        { cat: "Unit 2: Travel", zh: "å‡ºç™¼", word: "depart (v.)", sentence: "We depart from the hotel at 6 a.m.", tip: "depart from" },
        { cat: "Unit 2: Travel", zh: "èˆªç­", word: "flight (n.)", sentence: "Iâ€™m taking a flight to Spain.", tip: "take a flight to" },
        { cat: "Unit 2: Travel", zh: "è¡Œç¨‹è¡¨", word: "itinerary (n.)", sentence: "Our itinerary includes three days in Paris.", tip: "include + å¤©æ•¸/è¡Œç¨‹" },
        { cat: "Unit 2: Travel", zh: "æ’éšŠ", word: "line up (phr. v.)", sentence: "We need to line up at that desk to check in.", tip: "line up at" },
        { cat: "Unit 2: Travel", zh: "ä¹˜å®¢", word: "passenger (n.)", sentence: "The bus can take 30 passengers.", tip: "take + äººæ•¸ å®¹ç´" },
        { cat: "Unit 2: Travel", zh: "æœˆå°", word: "platform (n.)", sentence: "Our train leaves from platform 3.", tip: "leave from" },
        { cat: "Unit 2: Travel", zh: "å‰©ä¸‹/ä»ç„¶", word: "remain (v.)", sentence: "Only three seats remain on this flight.", tip: "seats remain å¸¸è¦‹å…¬å‘Š" },
        { cat: "Unit 2: Travel", zh: "è¨‚ä½", word: "reservation (n.)", sentence: "Did you make a hotel reservation?", tip: "make a reservation" },

        // Unit 3
        { cat: "Unit 3: Shopping", zh: "æ¢ç¢¼", word: "barcode (n.)", sentence: "The cashier scanned the barcode.", tip: "scan + barcode æ”¶éŠ€æµç¨‹" },
        { cat: "Unit 3: Shopping", zh: "é¡§å®¢", word: "customer (n.)", sentence: "Customers can return items within 7 days.", tip: "within 7 days é€€è²¨æ”¿ç­–" },
        { cat: "Unit 3: Shopping", zh: "åƒ¹æ ¼", word: "price (n.)", sentence: "The price includes tax.", tip: "include tax ç¨…å·²å«" },
        { cat: "Unit 3: Shopping", zh: "å±•ç¤º", word: "display (n./v.)", sentence: "The new products are on display near the entrance.", tip: "on display å±•ç¤ºä¸­" },
        { cat: "Unit 3: Shopping", zh: "å®¶å…·", word: "furniture (n.)", sentence: "The store sells office furniture.", tip: "office furniture TOEICå¸¸è¦‹" },
        { cat: "Unit 3: Shopping", zh: "æ¶å­", word: "rack (n.)", sentence: "Please place the items on the rack.", tip: "place A on B" },
        { cat: "Unit 3: Shopping", zh: "æ¨™ç±¤", word: "label (n./v.)", sentence: "The label shows the original price.", tip: "original price åŸåƒ¹" },
        { cat: "Unit 3: Shopping", zh: "æŠ˜æ‰£", word: "discount (n.)", sentence: "Youâ€™ll get a 10% discount with this coupon.", tip: "get a discount" },
        { cat: "Unit 3: Shopping", zh: "éŒ¢åŒ…", word: "wallet (n.)", sentence: "I left my wallet at home.", tip: "leave + ç‰©å“ + åœ°é»" },
        { cat: "Unit 3: Shopping", zh: "å»šæˆ¿ç”¨å“", word: "kitchenware (n.)", sentence: "Kitchenware is on the second floor.", tip: "on the second floor ä½ç½®" },
        { cat: "Unit 3: Shopping", zh: "è³¼ç‰©", word: "shopping (n.)", sentence: "We went shopping after work.", tip: "go shopping" },
        { cat: "Unit 3: Shopping", zh: "è³¼ç‰©è»Š", word: "shopping cart (n.)", sentence: "Put heavy items in the shopping cart.", tip: "put A in B" },
        { cat: "Unit 3: Shopping", zh: "è³¼ç‰©ä¸­å¿ƒ", word: "mall (n.)", sentence: "She wants to go to the mall.", tip: "want to + V" },
        { cat: "Unit 3: Shopping", zh: "æ”¶éŠ€å“¡", word: "cashier (n.)", sentence: "The cashier asked for my membership card.", tip: "ask for ç´¢å–" },
        { cat: "Unit 3: Shopping", zh: "æ”¶æ“š", word: "receipt (n.)", sentence: "Keep the receipt for your records.", tip: "for your records ç•™å­˜" },
        { cat: "Unit 3: Shopping", zh: "å¯é‡è¤‡ä½¿ç”¨çš„", word: "reusable (adj.)", sentence: "Bring a reusable bag to reduce waste.", tip: "reduce waste ç’°ä¿å¥" },
        { cat: "Unit 3: Shopping", zh: "è¢‹å­", word: "bag (n.)", sentence: "The store charges for plastic bags.", tip: "charge for æ”¶è²»" },
        { cat: "Unit 3: Shopping", zh: "ä¿¡ç”¨å¡", word: "credit card (n.)", sentence: "Do you accept credit cards?", tip: "acceptï¼æ¥å—ä»˜æ¬¾æ–¹å¼" },
        { cat: "Unit 3: Shopping", zh: "å¯é çš„", word: "reliable (adj.)", sentence: "Choose a reliable supplier for bulk orders.", tip: "supplier / bulk orders å•†å‹™æ¡è³¼" },
        { cat: "Unit 3: Shopping", zh: "èŠ±è²»", word: "cost (v./n.)", sentence: "This model costs less than the previous one.", tip: "cost + é‡‘é¡/æ¯”è¼ƒ" },
        { cat: "Unit 3: Shopping", zh: "è³¼è²·ï¼ˆéå»åˆ†è©ï¼‰", word: "purchased (adj./pp.)", sentence: "Purchased items are non-refundable.", tip: "non-refundable ä¸å¯é€€" },
        { cat: "Unit 3: Shopping", zh: "è² æ“”å¾—èµ·", word: "afford (v.)", sentence: "We canâ€™t afford to buy in large quantities.", tip: "canâ€™t afford to + V" },
        { cat: "Unit 3: Shopping", zh: "å‡ºæ¸…ç‰¹è³£", word: "sale (n.)", sentence: "The store is having a sale this weekend.", tip: "have a sale" },
        { cat: "Unit 3: Shopping", zh: "åŠåƒ¹", word: "50% off (phr.)", sentence: "All jackets are 50% off today.", tip: "% off æŠ˜æ‰£è¡¨é”" },
        { cat: "Unit 3: Shopping", zh: "åŸåƒ¹", word: "original price (n.)", sentence: "The original price is listed on the tag.", tip: "be listed on æ¨™ç¤ºæ–¼" },
        { cat: "Unit 3: Shopping", zh: "é€€è²¨", word: "return (v.)", sentence: "You may return the item with a receipt.", tip: "with a receipt æ¢ä»¶" },
        { cat: "Unit 3: Shopping", zh: "é€€è²»", word: "refund (n./v.)", sentence: "Refunds will be issued in 5 business days.", tip: "be issued æ ¸ç™¼/é€€å›" },
        { cat: "Unit 3: Shopping", zh: "ä¾›æ‡‰å•†", word: "supplier (n.)", sentence: "The supplier confirmed the delivery date.", tip: "confirm + æ—¥æœŸ" },
        { cat: "Unit 3: Shopping", zh: "å¤§é‡è¨‚å–®", word: "bulk order (n.)", sentence: "We offer discounts for bulk orders.", tip: "offer discounts for" },
        { cat: "Unit 3: Shopping", zh: "ä»˜æ¬¾", word: "payment (n.)", sentence: "Payment is due upon receipt of the invoice.", tip: "due upon receipt ä¸€æ”¶åˆ°å°±åˆ°æœŸ" },

        // Unit 4
        { cat: "Unit 4: Banking", zh: "ä¿éšªç®±", word: "safety deposit box (n.)", sentence: "Please store valuables in a safety deposit box.", tip: "store valuables å­˜æ”¾è²´é‡ç‰©" },
        { cat: "Unit 4: Banking", zh: "éŠ€è¡Œæ«ƒå“¡", word: "bank teller (n.)", sentence: "The bank teller verified my ID.", tip: "verify ID èº«åˆ†æ ¸å°" },
        { cat: "Unit 4: Banking", zh: "ç°½å", word: "signature (n.)", sentence: "Your signature is required on the form.", tip: "be required å¿…é ˆ" },
        { cat: "Unit 4: Banking", zh: "æ”¯ç¥¨", word: "check (n.)", sentence: "Please write a check payable to the company.", tip: "payable to å—æ¬¾äºº" },
        { cat: "Unit 4: Banking", zh: "éŠ€è¡Œå°å¸³å–®", word: "bank statement (n.)", sentence: "Review your bank statement for any unusual charges.", tip: "unusual charges ç•°å¸¸æ‰£æ¬¾" },
        { cat: "Unit 4: Banking", zh: "å­˜æ‘º", word: "bankbook (n.)", sentence: "Bring your bankbook when you update your account.", tip: "update your account æ›´æ–°å¸³æˆ¶è³‡æ–™" },
        { cat: "Unit 4: Banking", zh: "ç¾é‡‘", word: "cash (n.)", sentence: "Do you want cash or a transfer?", tip: "cash or transfer å¸¸è¦‹é¸é …é¡Œ" },
        { cat: "Unit 4: Banking", zh: "è¶…æ”¯", word: "overspend (v.)", sentence: "Try not to overspend during the holidays.", tip: "during the holidays æ™‚é–“ç‰‡èª" },
        { cat: "Unit 4: Banking", zh: "ææ¬¾", word: "withdraw (v.)", sentence: "You can withdraw cash from an ATM.", tip: "withdraw A from B" },
        { cat: "Unit 4: Banking", zh: "è‡ªå‹•ææ¬¾æ©Ÿ", word: "ATM (n.)", sentence: "The ATM is temporarily out of service.", tip: "out of service æš«åœæœå‹™" },
        { cat: "Unit 4: Banking", zh: "åˆ†è¡Œ", word: "branch (n.)", sentence: "Please visit the nearest branch for assistance.", tip: "nearest branch æœ€è¿‘åˆ†è¡Œ" },
        { cat: "Unit 4: Banking", zh: "ç”³è«‹", word: "application (n.)", sentence: "Submit the loan application by Friday.", tip: "submit the application é€ä»¶" },
        { cat: "Unit 4: Banking", zh: "å¸³å–®", word: "bill (n.)", sentence: "This bill includes service fees.", tip: "service fees æœå‹™è²»" },
        { cat: "Unit 4: Banking", zh: "é‡‘é¡", word: "amount (n.)", sentence: "Please enter the amount you want to transfer.", tip: "enter the amount è¼¸å…¥é‡‘é¡" },
        { cat: "Unit 4: Banking", zh: "è²¸æ¬¾", word: "loan (n.)", sentence: "Weâ€™re talking about a loan for a new car.", tip: "a loan for + ç›®çš„" },
        { cat: "Unit 4: Banking", zh: "ç°½ç½²ï¼ˆæ–‡ä»¶ï¼‰", word: "sign (v.)", sentence: "Please sign the forms in front of the officer.", tip: "sign the forms" },
        { cat: "Unit 4: Banking", zh: "è¡¨æ ¼", word: "form (n.)", sentence: "Fill out this form in capital letters.", tip: "fill out å¡«å¯«" },
        { cat: "Unit 4: Banking", zh: "ç”³è«‹è¡¨", word: "application form (n.)", sentence: "The application form is missing a signature.", tip: "be missing ç¼ºå°‘" },
        { cat: "Unit 4: Banking", zh: "ç†è²¡è¦åŠƒå¸«", word: "financial planner (n.)", sentence: "A financial planner can help you set a budget.", tip: "set a budget è¨­å®šé ç®—" },
        { cat: "Unit 4: Banking", zh: "è¢«æ”¶è²»/è¢«æ‰£æ¬¾", word: "charged (adj./pp.)", sentence: "You were charged twice for the same transaction.", tip: "charged twice é‡è¤‡æ‰£æ¬¾" },
        { cat: "Unit 4: Banking", zh: "æ«ƒå°", word: "counter (n.)", sentence: "Please take a number at the counter.", tip: "take a number æŠ½è™Ÿç¢¼ç‰Œ" },
        { cat: "Unit 4: Banking", zh: "åˆ©æ½¤", word: "profit (n.)", sentence: "The company reported a profit increase this quarter.", tip: "report a profit increase è²¡å ±å¥" },
        { cat: "Unit 4: Banking", zh: "ç°½ç½²", word: "sign (n./v.)", sentence: "Please sign here and date it.", tip: "sign and date ç°½åï¼‹æ—¥æœŸ" },
        { cat: "Unit 4: Banking", zh: "äº¤æ˜“", word: "transaction (n.)", sentence: "This transaction was declined.", tip: "be declined è¢«æ‹’çµ•/æœªæ ¸å‡†" },
        { cat: "Unit 4: Banking", zh: "è½‰å¸³", word: "transfer (n./v.)", sentence: "Iâ€™d like to transfer funds to another account.", tip: "transfer funds è½‰ç§»è³‡é‡‘" },
        { cat: "Unit 4: Banking", zh: "å¸³æˆ¶", word: "account (n.)", sentence: "Please open a savings account.", tip: "open an account é–‹æˆ¶" },
        { cat: "Unit 4: Banking", zh: "å­˜æ¬¾", word: "deposit (n./v.)", sentence: "Iâ€™d like to deposit this check.", tip: "deposit a check å­˜æ”¯ç¥¨" },
        { cat: "Unit 4: Banking", zh: "è²»ç”¨", word: "fee (n.)", sentence: "A service fee may apply.", tip: "may apply å¯èƒ½é©ç”¨" },
        { cat: "Unit 4: Banking", zh: "ä»˜æ¬¾åˆ°æœŸ", word: "due (adj.)", sentence: "The payment is due on the 15th.", tip: "be due on + æ—¥æœŸ" },
        { cat: "Unit 4: Banking", zh: "å¹«åŠ©/å”åŠ©", word: "assistance (n.)", sentence: "Contact the branch for further assistance.", tip: "for further æ›´é€²ä¸€æ­¥" }
    ];

    // æ´—ç‰Œæ¼”ç®—æ³• (Fisher-Yates Shuffle) - ç¢ºä¿æ¯æ¬¡é¡Œç›®é †åºéƒ½ä¸ä¸€æ¨£
    function shuffle(array) {
        let currentIndex = array.length, randomIndex;
        while (currentIndex != 0) {
            randomIndex = Math.floor(Math.random() * currentIndex);
            currentIndex--;
            [array[currentIndex], array[randomIndex]] = [array[randomIndex], array[currentIndex]];
        }
        return array;
    }

    // å°‡é¡Œç›®æ´—ç‰Œå¾Œæ”¾å…¥åŸ·è¡Œä½‡åˆ—
    let questions = shuffle([...initialQuestions]);
    let currentQ = {};

    // DOM å…ƒç´ 
    const zhEl = document.getElementById('zh');
    const catEl = document.getElementById('category');
    const counterEl = document.getElementById('counter');
    const ansBox = document.getElementById('answer-box');
    const wordEl = document.getElementById('en-word');
    const sentEl = document.getElementById('en-sentence');
    const tipEl = document.getElementById('en-tip');
    const btnReveal = document.getElementById('btn-reveal');
    const actionBtns = document.getElementById('action-btns');

    function loadQuestion() {
        if (questions.length === 0) {
            zhEl.textContent = "ğŸ‰ å¤ªæ£’äº†ï¼å…¨éƒ¨ç·´ç¿’å®Œæˆï¼";
            catEl.style.display = 'none';
            ansBox.style.display = 'none';
            btnReveal.style.display = 'none';
            actionBtns.style.display = 'none';
            counterEl.textContent = "å‰©é¤˜é¡Œæ•¸: 0";
            return;
        }

        currentQ = questions.shift(); 
        
        zhEl.textContent = currentQ.zh;
        catEl.textContent = currentQ.cat;
        
        // è¨­å®šä¸åŒé¡å‹çš„é¡è‰² (é¸ç”¨)
        if(currentQ.cat.includes("Unit 1")) catEl.style.backgroundColor = "#007bff"; // è—
        else if(currentQ.cat.includes("Unit 2")) catEl.style.backgroundColor = "#28a745"; // ç¶ 
        else if(currentQ.cat.includes("Unit 3")) catEl.style.backgroundColor = "#e83e8c"; // ç²‰
        else catEl.style.backgroundColor = "#fd7e14"; // æ©˜
        
        counterEl.textContent = `å‰©é¤˜é¡Œæ•¸: ${questions.length + 1}`;
        wordEl.textContent = currentQ.word;
        sentEl.textContent = currentQ.sentence;
        tipEl.textContent = `ğŸ’¡ ç”¨æ³•æç¤ºï¼š${currentQ.tip}`;
        
        ansBox.style.display = 'none';
        btnReveal.style.display = 'block';
        actionBtns.style.display = 'none';
    }

    function showAnswer() {
        ansBox.style.display = 'block';
        btnReveal.style.display = 'none';
        actionBtns.style.display = 'flex'; 
    }

    function speakText() {
        if ('speechSynthesis' in window) {
            let cleanWord = currentQ.word.replace(/\(.*\)/, ""); 
            let textToRead = `${cleanWord}. ${currentQ.sentence}`;
            let utterance = new SpeechSynthesisUtterance(textToRead);
            utterance.lang = 'en-US';
            utterance.rate = 0.9;
            window.speechSynthesis.speak(utterance);
        } else {
            alert("æŠ±æ­‰ï¼Œæ‚¨çš„ç€è¦½å™¨ä¸æ”¯æ´èªéŸ³åŠŸèƒ½ã€‚");
        }
    }

    function markUnknown() {
        questions.push(currentQ);
        showToast();
        loadQuestion();
    }

    function nextQuestion() {
        loadQuestion();
    }

    function showToast() {
        const toast = document.getElementById("toast");
        toast.className = "show";
        setTimeout(function(){ toast.className = toast.className.replace("show", ""); }, 3000);
    }

    loadQuestion();
</script>

</body>
</html>
